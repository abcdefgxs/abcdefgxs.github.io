<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>docker安装与基本命令</title>
      <link href="2021/03/10/docker-an-zhuang-yu-ji-ben-ming-ling/"/>
      <url>2021/03/10/docker-an-zhuang-yu-ji-ben-ming-ling/</url>
      
        <content type="html"><![CDATA[<h4 id="一、docker安装"><a href="#一、docker安装" class="headerlink" title="一、docker安装"></a>一、docker安装</h4><p>1.更新yum源。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y update</span><br></pre></td></tr></table></figure><p>2.安装epel源。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y epel-release </span><br></pre></td></tr></table></figure><p>3.清除yum缓存。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum clean all</span><br></pre></td></tr></table></figure><p>4.安装并运行Docker。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install docker-io -y</span><br><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure><p>5.查看docker是否安装成功</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure><h4 id="二、docker进程相关的基本命令"><a href="#二、docker进程相关的基本命令" class="headerlink" title="二、docker进程相关的基本命令"></a>二、docker进程相关的基本命令</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker     #运行Docker守护进程</span><br><span class="line">systemctl stop docker      #停止Docker守护进程</span><br><span class="line">systemctl restart docker   #重启Docker守护进程</span><br><span class="line">systemctl enable docker    #开机自启动</span><br><span class="line">systemctl status docker    #查看docker的状态</span><br></pre></td></tr></table></figure><h4 id="三、镜像相关命令"><a href="#三、镜像相关命令" class="headerlink" title="三、镜像相关命令"></a>三、镜像相关命令</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis:6.0.12  # 拉取redis6.0.12版本的镜像</span><br><span class="line"></span><br><span class="line">docker rmi c196798056c5  # 删除某个镜像</span><br></pre></td></tr></table></figure><p><img "" class="lazyload placeholder" data-original="https://i.loli.net/2021/03/09/WbT1oD4ENrapyk9.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h4 id="四、docker容器相关命令"><a href="#四、docker容器相关命令" class="headerlink" title="四、docker容器相关命令"></a>四、docker容器相关命令</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">docker ps  # 查看正在运行的容器</span><br><span class="line">docker ps -a # 查看所有容器</span><br><span class="line"></span><br><span class="line">docker run 参数</span><br><span class="line"></span><br><span class="line">参数书名</span><br><span class="line">-d: 后台运行容器，并返回容器ID；</span><br><span class="line">-i: 以交互模式运行容器，通常与 -t 同时使用；</span><br><span class="line">-P: 随机端口映射，容器内部端口随机映射到主机的端口</span><br><span class="line">-p: 指定端口映射，格式为：主机(宿主)端口:容器端口</span><br><span class="line">-t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；</span><br><span class="line">--name: 为容器指定名称</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker exec -it c1 /bin/bash  # 进入c1容器并分配中断</span><br><span class="line"></span><br><span class="line">docker stop c1 # 关闭c1容器</span><br><span class="line">docker rm c1[容器名称|容器id]# 删除c1容器</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker inspect c1 # 查看容器信息</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 新建一个容器并指定名称为c1并新建一个模拟终端</span></span><br><span class="line">docker run -it --name=c1 centos:7 /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在后台创建一个容器</span></span><br><span class="line">docker run -id --name=c2 centos:7 /bin/bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker run -it --name=c3 -v /root/data:/root/data_container centos:7 /bin/bash</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.创建启动c3数据卷容器，使用-v参数设置数据卷</span><br><span class="line">docker run -it --name=c3 -v /volume centos:7 /bin/bash</span><br><span class="line"></span><br><span class="line">2.创建启动c1、c2容器，使用--volumes-from 参数设置数据卷</span><br><span class="line">docker run -it --name=c1 --volume-from c3 centos:7 /bin/bash</span><br><span class="line"></span><br><span class="line">docker run -it --name=c2 --volume-from c3 centos:7 /bin/bash</span><br></pre></td></tr></table></figure><h4 id="五、DockerFile"><a href="#五、DockerFile" class="headerlink" title="五、DockerFile"></a>五、DockerFile</h4><blockquote><p>1.Docker镜像本质是什么？</p><ul><li>是一个分层文件系统。</li></ul><p>2.Docker中一个Centos镜像为什么只有200MB，而一个centos操作系统的ios文件要几个G?</p><ul><li>Centos的ios镜像包含bootfs和rootfs，而docker的centos镜像复用操作系统的bootfs，只有rootfs和其他镜像层。</li></ul><p>3.Docker中一个tomcat镜像为什么有500MB，而一个tomcat安装包只有70多MB？</p><ul><li>由于docker中镜像是分层的，tomcat虽然只有70多MB，但他需要依赖于父镜像和基础镜像，所以整个对外暴露的tomcat镜像大小有500多MB。</li></ul></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">镜像制作</span><br><span class="line">1.容器转为镜像</span><br><span class="line">docker commit 容器id 镜像名称:版本号</span><br><span class="line">docker save -o 压缩文件名称 镜像名称:版本号</span><br><span class="line">docker load -i 压缩文件名称</span><br><span class="line"></span><br><span class="line">2.dockerfile</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将容器转换为镜像</span></span><br><span class="line">docker commit 3db0103dc257 xs_centos:1.0</span><br><span class="line"><span class="meta">#</span><span class="bash"> 保存为压缩文件</span></span><br><span class="line">docker save -o xs_centos.tar xs_centos:1.0</span><br><span class="line"><span class="meta">#</span><span class="bash"> 恢复镜像</span></span><br><span class="line">docker load -i xs_centos.tar</span><br></pre></td></tr></table></figure><p><img "" class="lazyload placeholder" data-original="https://i.loli.net/2021/03/10/K1Di9IgUr6CNejQ.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="img"></p><img "" class="lazyload placeholder" data-original="https://i.loli.net/2021/03/10/LjuNzAPYBsE4CWG.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="image-20210310221148742" style="zoom:80%;" /><p><img "" class="lazyload placeholder" data-original="https://i.loli.net/2021/03/10/r8fhsGeQypt1Lqm.png" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="image-20210310221409390"></p>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> 后端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hello world</title>
      <link href="2021/03/10/hello-world/"/>
      <url>2021/03/10/hello-world/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;hello world!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><span class='pbg yellow'>我是一个高亮文本</span><span class='pbg info'>我是一个高亮文本</span><div class="note "><p>我有一只小毛驴，我从来都不骑。</p></div><div class="note quote"><p>适合引用一段话</p></div><div class="note warning"><p>这是一个警告</p></div><div class="note danger"><p>这是一个错误</p></div><div class="note success"><p>这是一个成功</p></div><div class="note info"><p>这是一个信息</p></div><div class="tabs" id="tab-id"><ul class="nav-tabs"><li class="tab active"><a class="#tab-id-1">栏目1</a></li><li class="tab"><a class="#tab-id-2">栏目2</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-id-1"><p>。。。</p></div><div class="tab-pane" id="tab-id-2"><p>！！！</p></div></div></div><details ><summary> 查看图片测试 </summary>              <div class='content'>              <p><img "" class="lazyload placeholder" data-original="https://i.loli.net/2021/03/11/BvkwsZ2Vagu1cHL.jpg" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif"></p>              </div>            </details><div class="gallery ">              <p><img "" class="lazyload placeholder" data-original="https://pic2.zhimg.com/80/v2-bcb819edb98e081817066eb6b0e6a2ef_1440w.jpg?source=1940ef5c" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="图片描述"><br><img "" class="lazyload placeholder" data-original="https://pic2.zhimg.com/80/v2-f1b467abef1caeb5537f399da4ddbc9d_1440w.jpg?source=1940ef5c" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="图片描述"><br><img "" class="lazyload placeholder" data-original="https://pic2.zhimg.com/80/v2-c513cb0d2eff43b5391ea682f1ba07c6_1440w.jpg?source=1940ef5c" src="https://img10.360buyimg.com/ddimg/jfs/t1/157667/29/9156/134350/603c6445Ebbc9cabe/41219c5d36d45072.gif" alt="图片描述"></p>            </div><h1 class="bamboo-h " id="我是标题">我是标题</h1><br/><p>你好啊，未来越来越好哦</p><h2 class="bamboo-h " id="我是标题">我是标题</h2><br/><p>你好啊，加油哦</p><h2 class="bamboo-h warning" id="我是标题">我是标题</h2><br/><h2 class="bamboo-h red" id="我是标题">我是标题</h2><br/>]]></content>
      
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
